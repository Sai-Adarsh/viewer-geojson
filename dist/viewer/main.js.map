{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/replservice.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"<div>\\r\\n\\t<mat-sidenav-container class=\\\"example-container\\\">\\r\\n    <!--\\r\\n\\t\\t<mat-sidenav #sidenav7 mode=\\\"side\\\" position=\\\"end\\\" role=\\\"navigation\\\" class=\\\"example-sidenav\\\">\\r\\n        <br /><br />\\r\\n        <mat-card-header>\\r\\n          <mat-card-title>Development Tools</mat-card-title>\\r\\n        </mat-card-header><p> </p>\\r\\n        <button (click)=\\\"this.deleteDrawing()\\\" mat-raised-button>\\r\\n          <mat-icon>undo</mat-icon>\\r\\n        </button>&nbsp;\\r\\n        <button (click)=\\\"this.redoDrawing()\\\" mat-raised-button>\\r\\n          <mat-icon>redo</mat-icon>\\r\\n        </button>&nbsp;\\r\\n        <button color=\\\"accent\\\" (click)=\\\"sidenav1.toggle(); sidenav7.toggle()\\\" mat-raised-button>\\r\\n          Toggle <mat-icon>toggle_off</mat-icon>\\r\\n        </button><p> </p>\\r\\n        <mat-accordion>\\r\\n          <mat-expansion-panel (opened)=\\\"panelOpenState = true\\\"\\r\\n                              (closed)=\\\"panelOpenState = false\\\">\\r\\n            <mat-expansion-panel-header>\\r\\n              <mat-panel-title>\\r\\n                Colour Intensity\\r\\n              </mat-panel-title>\\r\\n            </mat-expansion-panel-header>\\r\\n            <button (click)=\\\"resetToDefault()\\\" color=\\\"primary\\\" mat-raised-button>\\r\\n              Reset to default\\r\\n            </button><p> </p>\\r\\n            Invert\\r\\n            <mat-slider\\r\\n              thumbLabel\\r\\n              (change)=\\\"this.onInvertChange($event)\\\"\\r\\n              min=\\\"1\\\"\\r\\n              max=\\\"100\\\"></mat-slider><p> </p>\\r\\n            Hue\\r\\n            <mat-slider\\r\\n              thumbLabel\\r\\n              (change)=\\\"this.onHueChange($event)\\\"\\r\\n              min=\\\"0\\\"\\r\\n              max=\\\"360\\\"></mat-slider><p> </p>\\r\\n            Saturation\\r\\n            <mat-slider\\r\\n              thumbLabel\\r\\n              (change)=\\\"this.onSaturationChange($event)\\\"\\r\\n              min=\\\"1\\\"\\r\\n              max=\\\"100\\\"></mat-slider><p> </p>\\r\\n          </mat-expansion-panel>\\r\\n        </mat-accordion><p> </p>\\r\\n    </mat-sidenav>-->\\r\\n    \\r\\n    <mat-sidenav #sidenav1 opened mode=\\\"side\\\" position=\\\"end\\\" role=\\\"navigation\\\" class=\\\"example-sidenav\\\">\\r\\n      <center>\\r\\n        <button mat-icon-button color=\\\"accent\\\">\\r\\n          <mat-icon>build</mat-icon>\\r\\n        </button>\\r\\n      </center><p> </p>\\r\\n      \\r\\n      <hr style=\\\"height:2px;border-width:0;color:gray;background-color:gray\\\"><p> </p>\\r\\n      <!--<button mat-mini-fab color=\\\"accent\\\" (click)=\\\"sidenav1.toggle(); sidenav7.toggle()\\\" mat-raised-button>\\r\\n        <mat-icon>toggle_on</mat-icon>\\r\\n      </button><p> </p>-->\\r\\n      <mat-accordion>\\r\\n        <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Annotation Tools');\\\"\\r\\n                            (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n          <mat-expansion-panel-header>\\r\\n            <mat-panel-title>\\r\\n              <mat-icon>create</mat-icon>\\r\\n            </mat-panel-title>\\r\\n          </mat-expansion-panel-header>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Point Annotation');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Annotation Tools');\\\" (click)=\\\"this.addInteraction('Point')\\\" mat-raised-button>\\r\\n            <mat-icon>group_work</mat-icon>\\r\\n          </button><p> </p>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('LineString');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Annotation Tools');\\\" (click)=\\\"this.addInteraction('LineString')\\\" mat-raised-button>\\r\\n            <mat-icon>clear_all</mat-icon>\\r\\n          </button><p> </p>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Polygon');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Annotation Tools');\\\" (click)=\\\"this.addpixelpolyfun()\\\" mat-raised-button>\\r\\n            <mat-icon>change_history</mat-icon>\\r\\n          </button><p> </p>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Circle');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Annotation Tools');\\\" (click)=\\\"this.addInteraction('Circle')\\\" mat-raised-button>\\r\\n            <mat-icon>circle</mat-icon>\\r\\n          </button><p> </p>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Remove Interaction');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Annotation Tools');\\\" (click)=\\\"this.removeInteraction()\\\" mat-raised-button color=\\\"primary\\\" aria-label=\\\"Example icon button with a menu icon\\\">\\r\\n              <mat-icon>clear</mat-icon>\\r\\n          </button><p> </p>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Delete Annotations');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Annotation Tools');\\\" (click)=\\\"this.deleteDrawing()\\\" mat-raised-button color=\\\"primary\\\" aria-label=\\\"Example icon button with a menu icon\\\">\\r\\n              <mat-icon>delete</mat-icon>\\r\\n          </button>\\r\\n        </mat-expansion-panel><p> </p>\\r\\n\\r\\n        <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Union & Difference');\\\"\\r\\n                            (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n          <mat-expansion-panel-header>\\r\\n            <mat-panel-title>\\r\\n              <mat-icon>add_circle</mat-icon>\\r\\n            </mat-panel-title>\\r\\n          </mat-expansion-panel-header>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Add Polygon');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Union & Difference');\\\"  (click)=\\\"this.addPolygons()\\\" mat-raised-button>\\r\\n            <mat-icon>add_circle</mat-icon>\\r\\n          </button><p> </p>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Erase Polygon');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Union & Difference');\\\" (click)=\\\"this.erasePolygons()\\\" mat-raised-button>\\r\\n            <mat-icon>remove_circle</mat-icon>\\r\\n          </button><p> </p>\\r\\n          <button (mouseenter) =\\\"this.changeHeaderTest('Combine');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Union & Difference');\\\"(click)=\\\"this.combine()\\\" mat-raised-button color=\\\"primary\\\" aria-label=\\\"Example icon button with a menu icon\\\">\\r\\n            <mat-icon>swap_horizontal</mat-icon>\\r\\n          </button>\\r\\n        </mat-expansion-panel><p> </p>\\r\\n\\r\\n          <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Save & Load');\\\"\\r\\n          (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n            <mat-expansion-panel-header>\\r\\n            <mat-panel-title>\\r\\n              <mat-icon> cloud</mat-icon>\\r\\n            </mat-panel-title>\\r\\n            </mat-expansion-panel-header>\\r\\n              <button (mouseenter) =\\\"this.changeHeaderTest('Save Polygon');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Save & Load');\\\"  (click)=\\\"openSnackBar('Saving Polygons to firebase', 'Dismiss'); savePolygonsToDatabase()\\\" mat-raised-button>\\r\\n                <mat-icon>cloud_import</mat-icon>\\r\\n              </button><p> </p>\\r\\n              <button (mouseenter) =\\\"this.changeHeaderTest('Retrieve Polygon');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Save & Load');\\\" (click)=\\\"retrievePolygonsFromDatabase(); openSnackBar('Retrieving Polygons to Database', 'Dismiss')\\\" mat-raised-button>\\r\\n                <mat-icon>cloud_download</mat-icon>\\r\\n              </button><p> </p>\\r\\n              <!--\\r\\n              <button (mouseenter) =\\\"this.changeHeaderTest('Load Polygon');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Save & Load');\\\" (click)=\\\"loadPolygonsFromFirebase()\\\" mat-raised-button color=\\\"primary\\\" aria-label=\\\"Example icon button with a menu icon\\\">\\r\\n                <mat-icon>publish</mat-icon>\\r\\n              </button>\\r\\n              -->\\r\\n              \\r\\n          </mat-expansion-panel><p> </p>\\r\\n\\r\\n\\r\\n          <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Import & Export');\\\"\\r\\n          (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n            <mat-expansion-panel-header>\\r\\n            <mat-panel-title>\\r\\n              <mat-icon>folder</mat-icon>\\r\\n            </mat-panel-title>\\r\\n            </mat-expansion-panel-header>\\r\\n              <input #file type=\\\"file\\\" style=\\\"display:none;\\\" (change)=\\\"this.importFile($event)\\\" />\\r\\n              <button (mouseenter) =\\\"this.changeHeaderTest('Import Features');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Import & Export');\\\"  (click)=\\\"openSnackBar('Importing', 'Dismiss'); file.click();\\\" mat-raised-button>\\r\\n                <mat-icon>create_new_folder</mat-icon>\\r\\n              </button><p> </p>\\r\\n              <button (mouseenter) =\\\"this.changeHeaderTest('Export Features');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Import & Export');\\\" (click)=\\\"openSnackBar('Exporting', 'Dismiss'); this.exportFile();\\\" mat-raised-button>\\r\\n                <mat-icon>cloud_download</mat-icon>\\r\\n              </button><p> </p>\\r\\n              <!--\\r\\n              <button (mouseenter) =\\\"this.changeHeaderTest('Load Polygon');\\\"  (mouseleave) =\\\"this.changeHeaderTest('Save & Load');\\\" (click)=\\\"loadPolygonsFromFirebase()\\\" mat-raised-button color=\\\"primary\\\" aria-label=\\\"Example icon button with a menu icon\\\">\\r\\n                <mat-icon>publish</mat-icon>\\r\\n              </button>\\r\\n              -->\\r\\n              \\r\\n          </mat-expansion-panel><p> </p>\\r\\n\\r\\n      </mat-accordion>\\r\\n    </mat-sidenav>\\r\\n\\r\\n\\t\\t<mat-sidenav-content>\\r\\n\\t\\t\\t<mat-sidenav-container class=\\\"example-map-container\\\">\\r\\n\\t\\t\\t\\t<mat-sidenav #sidenav2 mode=\\\"side\\\" position=\\\"start\\\" role=\\\"navigation\\\" class=\\\"example-sidenav\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t<div fxLayout=\\\"column\\\" class=\\\"sidenav-normal\\\">\\r\\n            <center>\\r\\n              <button mat-fab color=\\\"primary\\\" (click)=\\\"sidenav2.toggle()\\\">\\r\\n                <mat-icon>menu</mat-icon>\\r\\n              </button>\\r\\n            </center><br />\\r\\n            <mat-accordion>\\r\\n              <mat-expansion-panel #panel1 (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Brain Information');\\\"\\r\\n                                   (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n                <mat-expansion-panel-header>\\r\\n                  <mat-panel-title>\\r\\n                    Brain Information\\r\\n                  </mat-panel-title>\\r\\n                </mat-expansion-panel-header>\\r\\n                <br>\\r\\n                <mat-form-field appearance=\\\"outline\\\">\\r\\n                  <mat-label>Brain ID</mat-label>\\r\\n                  <input (change)=\\\"this.getBrainIDUpdated($event)\\\"matInput placeholder=\\\"E.g. 4240\\\">\\r\\n                </mat-form-field>\\r\\n                <mat-form-field appearance=\\\"outline\\\">\\r\\n                  <mat-label>Section No</mat-label>\\r\\n                  <input (change)=\\\"this.emailUpdated($event)\\\" matInput placeholder=\\\"E.g. 25\\\">\\r\\n                </mat-form-field><p> </p>\\r\\n                <form>\\r\\n                  <mat-form-field appearance=\\\"fill\\\">\\r\\n                    <mat-label>Select Tracer</mat-label>\\r\\n                    <mat-select [(ngModel)]=\\\"selectedValue\\\" name=\\\"tracer\\\">\\r\\n                      <mat-option *ngFor=\\\"let tracer of tracers\\\" [value]=\\\"tracer.value\\\">\\r\\n                        {{tracer.viewValue}}\\r\\n                      </mat-option>\\r\\n                    </mat-select>\\r\\n                  </mat-form-field>\\r\\n                </form>\\r\\n                <!--\\r\\n                  <mat-slide-toggle\\r\\n                      color=\\\"primary\\\"\\r\\n                      (change)=\\\"this.onToggleTracer($event)\\\"\\r\\n                      class=\\\"example-margin\\\"\\r\\n                      [checked]=\\\"checked\\\"\\r\\n                      [disabled]=\\\"disabled\\\">\\r\\n                    Toggle Tracer\\r\\n                  </mat-slide-toggle>\\r\\n                -->          \\r\\n                <mat-card-actions>\\r\\n                  <button style=\\\"right:-60%;padding:8px;width:40%;\\\"  (click)=\\\"this.brainIDUpdated()\\\" color=\\\"primary\\\" mat-raised-button>Load Brain</button>\\r\\n                </mat-card-actions>\\r\\n              </mat-expansion-panel><p></p>\\r\\n              <mat-expansion-panel #panel2 (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Atlas');\\\"\\r\\n                                   (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n                <mat-expansion-panel-header>\\r\\n                  <mat-panel-title>\\r\\n                    Atlas\\r\\n                  </mat-panel-title>\\r\\n                </mat-expansion-panel-header>\\r\\n                <!--\\r\\n                  <button (click)=\\\"this.displayFeatures();\\\" mat-raised-button>\\r\\n                    <mat-icon>cloud_download</mat-icon>\\r\\n                  </button><p> </p>\\r\\n                -->\\r\\n                <div class=\\\"menu-overflow-hidden\\\" id=\\\"jstree_block\\\" style=\\\"height: calc(50% - 2px); margin-left: 10px;\\\">\\r\\n                  <div class=\\\"active-pink-3 active-pink-4 mb-4\\\">\\r\\n                    <button  color=\\\"primary\\\" (click)=\\\"this.onClick('show')\\\" mat-raised-button >Show atlas</button>\\r\\n                    <button  color=\\\"primary\\\" (click)=\\\"this.onClick('hide')\\\" style=\\\"left:10%;\\\" mat-raised-button>Hide atlas</button>\\r\\n                  <br><br>\\r\\n                      <mat-form-field style=\\\"width:100%\\\" appearance=\\\"fill\\\">\\r\\n                        <mat-label>Region Name</mat-label>\\r\\n                        <input class=\\\"form-control search-input\\\" (change)=\\\"this.Tree($event);\\\" matInput placeholder=\\\"E.g. Hypothalamus\\\">\\r\\n                      </mat-form-field>\\r\\n                   </div>\\r\\n                  <div style=\\\"white-space: nowrap; font-family: 'Big Shoulders Stencil Display', cursive; font-family: 'Roboto', sans-serif;\\\" id='atlas_info'></div>\\r\\n                </div>\\r\\n              </mat-expansion-panel><p></p>\\r\\n              <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Injection Region');\\\"\\r\\n                                   (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n                <mat-expansion-panel-header>\\r\\n                  <mat-panel-title>\\r\\n                    Injection Region\\r\\n                  </mat-panel-title>\\r\\n                </mat-expansion-panel-header>\\r\\n              </mat-expansion-panel><p></p>\\r\\n              <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Process Annotation');\\\"\\r\\n                                   (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n                <mat-expansion-panel-header>\\r\\n                  <mat-panel-title>\\r\\n                    Process Annotation\\r\\n                  </mat-panel-title>\\r\\n                </mat-expansion-panel-header>\\r\\n              </mat-expansion-panel><p></p>\\r\\n              <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Point Annotation');\\\"\\r\\n                                   (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n                <mat-expansion-panel-header>\\r\\n                  <mat-panel-title>\\r\\n                    Point Annotation\\r\\n                  </mat-panel-title>\\r\\n                </mat-expansion-panel-header>\\r\\n              </mat-expansion-panel><p></p>\\r\\n              \\r\\n                  <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Development Tools');\\\"\\r\\n                                      (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Home');\\\">\\r\\n                    <mat-expansion-panel-header>\\r\\n                      <mat-panel-title>\\r\\n                        Development Tools\\r\\n                      </mat-panel-title>\\r\\n                    </mat-expansion-panel-header>\\r\\n                    <mat-accordion>\\r\\n                      <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Development Tool | REPL');\\\"\\r\\n                                      (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Development Tool');\\\">\\r\\n                    <mat-expansion-panel-header>\\r\\n                      <mat-panel-title>\\r\\n                        REPL\\r\\n                      </mat-panel-title>\\r\\n                    </mat-expansion-panel-header>\\r\\n                    <mat-card-content>\\r\\n                      <form>\\r\\n                        <mat-form-field mat-form-field appearance=\\\"standard\\\">\\r\\n                          <input type=\\\"text\\\"\\r\\n                                id = \\\"replID\\\"\\r\\n                                placeholder=\\\"Command line\\\"\\r\\n                                aria-label=\\\"Number\\\"\\r\\n                                matInput\\r\\n                                [formControl]=\\\"myControl\\\"\\r\\n                                [matAutocomplete]=\\\"auto\\\">\\r\\n                          <mat-autocomplete #auto=\\\"matAutocomplete\\\">\\r\\n                            <mat-option *ngFor=\\\"let option of filteredOptions | async\\\" [value]=\\\"option\\\">\\r\\n                              {{option}}\\r\\n                            </mat-option>\\r\\n                          </mat-autocomplete>\\r\\n                        </mat-form-field>\\r\\n                      </form>\\r\\n                      <mat-card-actions>\\r\\n                        <button color=\\\"primary\\\" (click)=\\\"this.REPL()\\\" mat-raised-button>Run Command</button>\\r\\n                      </mat-card-actions>\\r\\n                    </mat-card-content>\\r\\n                  </mat-expansion-panel><p> </p>\\r\\n\\r\\n                  <mat-expansion-panel (opened)=\\\"panelOpenState = true; this.changeHeaderTest('Development Tool | Colour Intensity');\\\"\\r\\n                                (closed)=\\\"panelOpenState = false; this.changeHeaderTest('Development Tool');\\\">\\r\\n                    <mat-expansion-panel-header>\\r\\n                      <mat-panel-title>\\r\\n                        Colour Intensity\\r\\n                      </mat-panel-title>\\r\\n                    </mat-expansion-panel-header>\\r\\n                    <button (click)=\\\"resetToDefault()\\\" color=\\\"primary\\\" mat-raised-button>\\r\\n                      Reset to default\\r\\n                    </button><p> </p>\\r\\n                    Invert\\r\\n                    <mat-slider\\r\\n                      thumbLabel\\r\\n                      (change)=\\\"this.onInvertChange($event)\\\"\\r\\n                      min=\\\"1\\\"\\r\\n                      max=\\\"100\\\"></mat-slider><p> </p>\\r\\n                    Hue\\r\\n                    <mat-slider\\r\\n                      thumbLabel\\r\\n                      (change)=\\\"this.onHueChange($event)\\\"\\r\\n                      min=\\\"0\\\"\\r\\n                      max=\\\"360\\\"></mat-slider><p> </p>\\r\\n                    Saturation\\r\\n                    <mat-slider\\r\\n                      thumbLabel\\r\\n                      (change)=\\\"this.onSaturationChange($event)\\\"\\r\\n                      min=\\\"1\\\"\\r\\n                      max=\\\"100\\\"></mat-slider><p> </p>\\r\\n                  </mat-expansion-panel><p> </p>\\r\\n\\r\\n                  \\r\\n                </mat-accordion>\\r\\n              </mat-expansion-panel><p> </p>\\r\\n\\r\\n\\r\\n              \\r\\n            </mat-accordion><p> </p>\\r\\n\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t</mat-sidenav>\\r\\n\\t\\t\\t\\t<mat-sidenav-content>\\r\\n\\t\\t\\t\\t\\t<mat-toolbar role=\\\"toolbar\\\" class=\\\"main-header mat-elevation-z1 sticky-header\\\">\\r\\n              <button mat-icon-button class=\\\"example-icon\\\" (click)=\\\"sidenav2.toggle()\\\"  aria-label=\\\"Example icon-button with menu icon\\\">\\r\\n                <mat-icon>menu</mat-icon>\\r\\n              </button>\\r\\n              <span>Next Gen Viewer</span>&nbsp;&nbsp;\\r\\n              <mat-chip-list aria-label=\\\"Fish selection\\\">\\r\\n                <mat-chip>{{ this.headerTest }}</mat-chip>\\r\\n              </mat-chip-list>\\r\\n              <!--<button (click)=\\\"this.deleteDrawing()\\\" mat-raised-button>\\r\\n                <mat-icon>undo</mat-icon>\\r\\n              </button>&nbsp;\\r\\n              <button (click)=\\\"this.redoDrawing()\\\" mat-raised-button>\\r\\n                <mat-icon>redo</mat-icon>\\r\\n              </button>&nbsp;\\r\\n              <button color=\\\"accent\\\" (click)=\\\"sidenav1.toggle(); sidenav7.toggle()\\\" mat-raised-button>\\r\\n                Toggle <mat-icon>settings</mat-icon>\\r\\n              </button>&nbsp;-->\\r\\n              <span class=\\\"example-spacer\\\"></span>\\r\\n              <p>  </p>\\r\\n              <button mat-icon-button class=\\\"example-icon\\\" aria-label=\\\"Example icon-button with share icon\\\">\\r\\n              <mat-icon>share</mat-icon>\\r\\n              </button>\\r\\n          </mat-toolbar>\\r\\n          <mat-progress-bar mode=\\\"determinate\\\" [value]=\\\"progress\\\" *ngIf=\\\"progress > 0\\\" ng-hide=\\\"progress==100\\\" class=\\\"progress-striped active\\\" color=\\\"warn\\\"></mat-progress-bar>\\r\\n  <!--<mat-progress-bar mode=\\\"{{this.progress}}\\\"></mat-progress-bar>-->\\r\\n          <div class=\\\"example-sidenav-content\\\">\\r\\n            <div id=\\\"map\\\" class=\\\"map\\\"></div>\\r\\n          </div> \\r\\n\\r\\n\\t\\t\\t\\t</mat-sidenav-content>\\r\\n\\t\\t\\t</mat-sidenav-container>\\r\\n\\t\\t</mat-sidenav-content>\\r\\n\\t</mat-sidenav-container>\\r\\n</div>\";","export default \".mat-slider {\\r\\n  width: 300px;\\r\\n}\\r\\n\\r\\n.mat-form-field {\\r\\n  margin-right: 12px;\\r\\n}\\r\\n\\r\\n.example-form {\\r\\n  min-width: 150px;\\r\\n  max-width: 500px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.example-full-width {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.example-form {\\r\\n  min-width: 150px;\\r\\n  max-width: 500px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.example-full-width {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.example-spacer {\\r\\n  flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.example-container {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.example-map-container {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.example-sidenav-content {\\r\\n  display: flex;\\r\\n  width: 100%;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.example-sidenav {\\r\\n  padding: 20px;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.example-card {\\r\\n  max-width: 400px;\\r\\n}\\r\\n\\r\\n.example-header-image {\\r\\n  background-image: url('https://material.angular.io/assets/img/examples/shiba1.jpg');\\r\\n  background-size: cover;\\r\\n}\\r\\n\\r\\n.block-expansion {\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n/* maps css */\\r\\n\\r\\n.map {\\r\\n  width: 100%;\\r\\n  height: 100vh;\\r\\n}\\r\\n\\r\\n/* tabs css */\\r\\n\\r\\n.example-small-box, .example-large-box {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  margin: 16px;\\r\\n  padding: 16px;\\r\\n  border-radius: 8px;\\r\\n  width: 50px;\\r\\n}\\r\\n\\r\\n.example-small-box {\\r\\n  height: 300px;\\r\\n  width: 200px;\\r\\n}\\r\\n\\r\\n.example-large-box {\\r\\n  height: 100px;\\r\\n  width: 50px;\\r\\n}\\r\\n\\r\\n/* Slide toggle */\\r\\n\\r\\n.example-h2 {\\r\\n  margin: 10px;\\r\\n}\\r\\n\\r\\n.example-section {\\r\\n  display: flex;\\r\\n  align-content: center;\\r\\n  align-items: center;\\r\\n  height: 60px;\\r\\n}\\r\\n\\r\\n.example-margin {\\r\\n  margin: 10px;\\r\\n}\\r\\n\\r\\n.mat-expansion-panel.mat-expanded {\\r\\n  background:#2e2c2c;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFdBQVc7RUFDWCxtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtRkFBbUY7RUFDbkYsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBLGFBQWE7O0FBQ2I7RUFDRSxXQUFXO0VBQ1gsYUFBYTtBQUNmOztBQUVBLGFBQWE7O0FBQ2I7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1osYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFdBQVc7QUFDYjs7QUFFQSxpQkFBaUI7O0FBQ2pCO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHFCQUFxQjtFQUNyQixtQkFBbUI7RUFDbkIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LXNsaWRlciB7XHJcbiAgd2lkdGg6IDMwMHB4O1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQge1xyXG4gIG1hcmdpbi1yaWdodDogMTJweDtcclxufVxyXG5cclxuLmV4YW1wbGUtZm9ybSB7XHJcbiAgbWluLXdpZHRoOiAxNTBweDtcclxuICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uZXhhbXBsZS1mdWxsLXdpZHRoIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmV4YW1wbGUtZm9ybSB7XHJcbiAgbWluLXdpZHRoOiAxNTBweDtcclxuICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uZXhhbXBsZS1mdWxsLXdpZHRoIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmV4YW1wbGUtc3BhY2VyIHtcclxuICBmbGV4OiAxIDEgYXV0bztcclxufVxyXG5cclxuLmV4YW1wbGUtY29udGFpbmVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5leGFtcGxlLW1hcC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLmV4YW1wbGUtc2lkZW5hdi1jb250ZW50IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLmV4YW1wbGUtc2lkZW5hdiB7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uZXhhbXBsZS1jYXJkIHtcclxuICBtYXgtd2lkdGg6IDQwMHB4O1xyXG59XHJcblxyXG4uZXhhbXBsZS1oZWFkZXItaW1hZ2Uge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnaHR0cHM6Ly9tYXRlcmlhbC5hbmd1bGFyLmlvL2Fzc2V0cy9pbWcvZXhhbXBsZXMvc2hpYmExLmpwZycpO1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbn1cclxuXHJcbi5ibG9jay1leHBhbnNpb24ge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi8qIG1hcHMgY3NzICovXHJcbi5tYXAge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwdmg7XHJcbn1cclxuXHJcbi8qIHRhYnMgY3NzICovXHJcbi5leGFtcGxlLXNtYWxsLWJveCwgLmV4YW1wbGUtbGFyZ2UtYm94IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgbWFyZ2luOiAxNnB4O1xyXG4gIHBhZGRpbmc6IDE2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIHdpZHRoOiA1MHB4O1xyXG59XHJcblxyXG4uZXhhbXBsZS1zbWFsbC1ib3gge1xyXG4gIGhlaWdodDogMzAwcHg7XHJcbiAgd2lkdGg6IDIwMHB4O1xyXG59XHJcblxyXG4uZXhhbXBsZS1sYXJnZS1ib3gge1xyXG4gIGhlaWdodDogMTAwcHg7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbn1cclxuXHJcbi8qIFNsaWRlIHRvZ2dsZSAqL1xyXG4uZXhhbXBsZS1oMiB7XHJcbiAgbWFyZ2luOiAxMHB4O1xyXG59XHJcblxyXG4uZXhhbXBsZS1zZWN0aW9uIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGhlaWdodDogNjBweDtcclxufVxyXG5cclxuLmV4YW1wbGUtbWFyZ2luIHtcclxuICBtYXJnaW46IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZXhwYW5zaW9uLXBhbmVsLm1hdC1leHBhbmRlZCB7XHJcbiAgYmFja2dyb3VuZDojMmUyYzJjO1xyXG59Il19 */\";","import { AfterViewInit, Component, OnInit} from '@angular/core';\r\nimport XYZ from 'ol/source/XYZ';\r\nimport * as turf from '@turf/turf'\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport LayerTile from 'ol/layer/Tile';\r\nimport ZoomToExtent from 'ol/control/ZoomToExtent';\r\nimport FullScreen from 'ol/control/FullScreen';\r\nimport ScaleLine from 'ol/control/ScaleLine';\r\nimport Attribution from 'ol/control/Attribution';\r\nimport SourceOsm from 'ol/source/OSM';\r\nimport SourceStamen from 'ol/source/Stamen';\r\nimport { fromLonLat, transform } from 'ol/proj';\r\nimport { defaults as defaultControls } from 'ol/control';\r\nimport { defaults as defaultInteractions, PinchZoom, Modify, Select } from 'ol/interaction';\r\nimport { Injectable } from '@angular/core';\r\nimport 'ol/ol.css';\r\nimport {Circle as CircleStyle, Fill, Stroke, Style, Text} from 'ol/style';\r\nimport Draw from 'ol/interaction/Draw';\r\nimport {OSM, Vector as VectorSource} from 'ol/source';\r\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\r\nimport GeoJSON from 'ol/format/GeoJSON';\r\nimport MousePosition from 'ol/control/MousePosition';\r\nimport {createStringXY} from 'ol/coordinate';\r\nimport SourceVector from 'ol/source/Vector';\r\nimport {FormControl} from '@angular/forms';\r\nimport {Observable} from 'rxjs';\r\nimport {map, startWith} from 'rxjs/operators';\r\nimport Zoomify from 'ol/source/Zoomify';\r\nimport {MatSnackBar} from '@angular/material/snack-bar';\r\nimport firebase from \"firebase\";\r\nimport Feature from 'ol/Feature';\r\nimport Polygon from 'ol/geom/Polygon';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { ReplserviceService } from './replservice.service';\r\nimport * as polygonClipping from 'polygon-clipping';\r\ndeclare var $: any;\r\n\r\ninterface Tracer {\r\n  value: string;\r\n  viewValue: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements AfterViewInit, OnInit  {\r\n\r\n  constructor(private _snackBar: MatSnackBar, private httpClient: HttpClient, private replserviceService: ReplserviceService) {}\r\n  \r\n  openSnackBar(message: string, action: string) {\r\n    this._snackBar.open(message, action, {\r\n      duration: 2000,\r\n    });\r\n  }\r\n  \r\n  changeHeaderTest(message: String) {\r\n    this.headerTest = message;\r\n    console.log(this.headerTest);\r\n    if(message==\"Injection Region\"){\r\n      this.category=\"Injection\";\r\n    }\r\n    if(message==\"Atlas\"){\r\n      this.category=\"Atlas\";\r\n    }\r\n  }\r\n\r\n  public treeRegion = 0;\r\n  myControl = new FormControl();\r\n  options: string[] = ['turnOnGEOJson', 'turnOffGEOJson', 'savePolygons', 'retrievePolygons', 'loadPolygons'];\r\n  filteredOptions: Observable<string[]>;\r\n\r\n  ngOnInit() {\r\n    this.filteredOptions = this.myControl.valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => this._filter(value))\r\n      );\r\n\r\n      $( () => {\r\n        // 6 create an instance when the DOM is ready\r\n        function nodeExpand(node){\r\n          if (node.children.length === 0)\r\n            return {text:node.name,...node};\r\n          else \r\n            for(var i=0;i<node.children.length;i++){\r\n              node.children[i] = nodeExpand(node.children[i]);\r\n            }\r\n            return {text:node.name,...node};\r\n        }\r\n        $(\".search-input\").keyup(function () {\r\n          var searchString = $(this).val();\r\n          $('#atlas_info').jstree('search', searchString);\r\n        });\r\n      \r\n        $.getJSON('https://raw.githubusercontent.com/Sai-Adarsh/viewer-geojson/main/h.json', (jsonresponse) => {\r\n          var dataNode=nodeExpand(jsonresponse.msg[0]);\r\n          $('#atlas_info')\r\n          .on(\"changed.jstree\",  (e, data) => {\r\n            if(data.selected.length) {\r\n              //alert('The selected node is: ' + data.instance.get_node(data.selected[0]).text);\r\n              //console.log(data.selected);\r\n              this.treeRegion = data.selected[0];\r\n              console.log(this.treeRegion);\r\n              console.log('The selected node is: ' + data.selected[0]);//data.instance.get_node(data.selected[0]).text);\r\n              this.displayFeatures()\r\n              // if(data.selected.length == 1)\r\n              //   drawAtlasRegion(data.selected);\r\n              // else{\r\n              //   failMessage('<h5>Please select only one</h5>');\r\n              //   return;\r\n              // }\r\n            }\r\n          })\r\n          .jstree({ \r\n            \"plugins\" : [\"search\"],\r\n            'core' : {\r\n              'themes': {\r\n                'name': 'proton',\r\n                'responsive': true,\r\n                'icons': false,\r\n                'variant': 'large',\r\n                'dots': true,\r\n              },\r\n              'multiple': false,\r\n              // 'check_callback': true,\r\n              'data' :function(node,cb){\r\n                    if(node.id === '#'){\r\n                      cb({...dataNode},dataNode.children);\r\n                      }\r\n                  }\r\n            },\r\n            \"search\": {\r\n              \"case_insensitive\": true,\r\n              \"show_only_matches\" : true\r\n            }});\r\n        })\r\n      });\r\n\r\n  }\r\n\r\n  private _filter(value: string): string[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.options.filter(option => option.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  public switchLayer;\r\n  public showFiller2;\r\n  public showFillerREPL;\r\n  public showFiller;\r\n  public panelOpenState;\r\n  public disabled;\r\n  public checked;\r\n  public redoStack;\r\n  public toBeRedrawn;\r\n  public toBeDeleted;\r\n  public zoomifyLayer;\r\n  public extent;\r\n  public invert;\r\n  public invertString: number;\r\n  public HueString: number;\r\n  public SaturationString: number;\r\n  public invertValue: string;\r\n  public firebaseConfig;\r\n  public loadedVector;\r\n  public defaultURL;\r\n  public loadedFeature; //load, save\r\n  public loadedCoords; //load, save\r\n  public defaultGeoJSONSecNo;\r\n  public lastChecked;\r\n  public treeString;\r\n  public urlData;\r\n  public secNo;\r\n  public brainID; // series id\r\n  public brainIdPm; // brain id\r\n  public PMDID; //brainid from url\r\n  public lastRegionID = -1;\r\n  public featureStack = [];\r\n  public lastol_uid=0;\r\n  public last_size = 0;\r\n  public addpixel = true;\r\n  public category = null;\r\n  /** OL-Map. */\r\n  map: Map;\r\n  /** Basic layer. */\r\n  layerTile: LayerTile;\r\n  /** Sources for basic layer. */\r\n  sources: { readonly osm: SourceOsm; readonly stamen: SourceStamen; readonly vector: VectorSource;};\r\n  mousePositionControl: MousePosition;\r\n  vector: VectorLayer;\r\n  vectorLayerTile: LayerTile;\r\n  modifyVector: VectorLayer;\r\n  select: Select;\r\n  modify: Modify;\r\n  public  draw: Draw;\r\n  delVector: VectorSource;\r\n  vectorSource: VectorSource;\r\n  zoomifySource: Zoomify;\r\n  imagery: TileLayer;\r\n  public styleAdd : Style;\r\n  public styleErase : Style;\r\n  public addPolygon : Draw;\r\n  public erasePolygon : Draw;\r\n  public addpixelpoly : Draw;\r\n  public lastAtlasSize = 0;\r\n  public headerTest: String = \"Home\";\r\n  public selectedValue: string = 'nissl';\r\n  public selectedCar: string;\r\n  public individualRegion;\r\n  public polygon;\r\n  public progress = 0;\r\n\r\n  tracers: Tracer[] = [\r\n    {value: 'fluro', viewValue: 'Fluro'},\r\n    {value: 'nissl', viewValue: 'Nissl'}\r\n  ];\r\n\r\n  //json format\r\n  public saveJson = {\r\n    \"firstpassAtlas\":{},\r\n    \"userActions\":[],\r\n    \"outputCombine\":{}\r\n  };\r\n\r\n\r\n  /**\r\n   * Initialise the map.\r\n   */\r\n\r\n  ngAfterViewInit() {\r\n    this.firebaseConfig = {\r\n      apiKey: \"AIzaSyA_rPzl1D8YouEsSJ1AjQwElFqH_mxOAFI\",\r\n      authDomain: \"realtime-4a7de.firebaseapp.com\",\r\n      databaseURL: \"https://realtime-4a7de.firebaseio.com\",\r\n      projectId: \"realtime-4a7de\",\r\n      storageBucket: \"realtime-4a7de.appspot.com\",\r\n      messagingSenderId: \"624733681109\",\r\n      appId: \"1:624733681109:web:ab5c7b2277fbf1ffd6b95c\",\r\n      measurementId: \"G-W109P6TCZL\"\r\n    };\r\n\r\n    \r\n    if (!firebase.apps.length) {\r\n        firebase.initializeApp(this.firebaseConfig);\r\n    }\r\n\r\n    this.defaultGeoJSONSecNo = 60;\r\n    this.secNo = 60;\r\n    this.brainID = 4958\r\n    this.PMDID = 'PMD2495';\r\n    this.brainIdPm = 2495;\r\n\r\n    this.sources = {\r\n      osm: new SourceOsm(),\r\n      stamen: new SourceStamen({ layer: 'toner' }),\r\n      vector: new VectorSource({\r\n        url: 'http://mitradevel.cshl.org/webtools/seriesbrowser/getatlasgeojson/PMD2057/0025/',\r\n        format: new GeoJSON(),\r\n        wrapX: false,\r\n      })\r\n    };\r\n\r\n    this.delVector = new VectorSource({\r\n      wrapX: false\r\n    });\r\n\r\n    this.layerTile = new LayerTile({\r\n      source: this.sources.osm\r\n    });\r\n\r\n    this.vectorSource = new VectorSource({\r\n      wrapX: false\r\n    });\r\n\r\n    this.vector = new VectorLayer({\r\n      source : this.vectorSource,\r\n    });\r\n\r\n    this.modifyVector = new VectorLayer({\r\n      source: new VectorSource({\r\n        url: 'http://mitradevel.cshl.org/webtools/seriesbrowser/getatlasgeojson/PMD2057/0025/',\r\n        format: new GeoJSON(),\r\n        wrapX: false,\r\n      }),\r\n    });\r\n\r\n    this.modifyVector.getStyle().apply();\r\n\r\n    this.select = new Select({\r\n      wrapX: false,\r\n    });\r\n\r\n    this.modify = new Modify({\r\n      features: this.select.getFeatures(),\r\n    });\r\n\r\n    this.draw = new Draw({\r\n      source: this.vector.getSource(),\r\n      type: 'Polygon',\r\n      freehand: true,\r\n    });\r\n    \r\n        this.styleAdd = new Style({\r\n          fill: new Fill({\r\n            color: 'rgba(0, 255, 0, 0.1)',\r\n          }),\r\n          stroke: new Stroke({\r\n            color: '#28a745',\r\n            width: 3,\r\n          }),\r\n          image: new CircleStyle({\r\n                radius: 7,\r\n                fill: new Fill({\r\n                  color: '#28a745'\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: 'white',\r\n                  width: 2,\r\n                }),\r\n          })\r\n      });\r\n    \r\n    this.styleErase = new Style({\r\n      fill: new Fill({\r\n        color: 'rgba(255, 170, 70, 0.1)',\r\n      }),\r\n      stroke: new Stroke({\r\n        color: '#f0ad4e',\r\n        width: 3,\r\n      }),\r\n      image: new CircleStyle({\r\n            radius: 7,\r\n            fill: new Fill({\r\n              color: '#f0ad4e'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: 'white',\r\n              width: 2,\r\n            }),\r\n      })\r\n    });\r\n      \r\n    this.addPolygon = new Draw({\r\n      source: this.vector.getSource(),\r\n      type: \"Polygon\",\r\n      style:this.styleAdd,\r\n    });\r\n\r\n    this.erasePolygon = new Draw({\r\n      source: this.vector.getSource(),\r\n      type: \"Polygon\",\r\n      style:this.styleErase,\r\n    });\r\n\r\n    this.addpixelpoly = new Draw({\r\n      source: this.vector.getSource(),\r\n      type: \"Polygon\",\r\n      style:this.styleAdd,\r\n      name:\"addRegion\",\r\n    });\r\n\r\n    this.defaultURL = 'http://braincircuits.org/cgi-bin/iipsrv.fcgi?FIF=/PMD2495/PMD2495%262494-F20-2016.02.26-23.11.41_PMD2495_3_0060.jp2&GAM=1&MINMAX=1:0,255&MINMAX=2:0,255&MINMAX=3:0,255&JTL={z},{tileIndex}';\r\n\r\n    this.httpClient.get('http://mitradevel.cshl.org/webtools/seriesbrowser/getthumbnails/4958/').subscribe(res=>{\r\n      this.urlData = res;\r\n    });  \r\n\r\n    this.zoomifySource = new Zoomify({\r\n      url: this.defaultURL,\r\n      size: [24000, 24000],\r\n      crossOrigin: 'anonymous',\r\n      zDirection: -1, // Ensure we get a tile with the screen resolution or higher\r\n    });\r\n\r\n    this.extent = this.zoomifySource.getTileGrid().getExtent();\r\n\r\n    this.imagery = new TileLayer({\r\n      source: this.zoomifySource,\r\n    });\r\n\r\n    this.switchLayer = [\r\n      this.layerTile, this.vector, this.modifyVector\r\n    ]\r\n\r\n    this.zoomifyLayer = [\r\n      this.imagery, this.modifyVector, this.vector\r\n    ]\r\n\r\n    this.modifyVector.setVisible(false);\r\n    this.redoStack   = [];\r\n\r\n    this.invertString = 0;\r\n    this.HueString = 0\r\n    this.SaturationString = 100;\r\n    this.invertValue = \"\";\r\n    this.individualRegion = 'http://mitradevel.cshl.org/webtools/seriesbrowser/getatlasgeojson/PMD2495/0060/';\r\n\r\n    this.map = new Map({\r\n      target: 'map',\r\n      interactions: defaultInteractions().extend([this.select, this.modify,]),\r\n      layers: this.zoomifyLayer,\r\n      view: new View({\r\n        resolutions: this.imagery.getSource().getTileGrid().getResolutions(),\r\n        zoom: 2,\r\n        extent: this.extent,\r\n        constrainResolution: true\r\n      }),\r\n    });\r\n\r\n    this.map.getView().fit(this.extent);\r\n\r\n    this.addPolygon.setActive(false);\r\n    this.erasePolygon.setActive(false);\r\n  \r\n    this.vector.on(\"prerender\",(event)=>{\r\n      this.setPolyStyle();\r\n    });\r\n\r\n  }\r\n\r\n  setPolyStyle(){\r\n        var vector_sr = this.vector.getSource();\r\n        var features = vector_sr.getFeatures();\r\n        var bugFeature= new Feature;\r\n        \r\n        console.log(features,\"features\");\r\n        if(parseInt(features[features.length-1].ol_uid)> this.lastol_uid == true)\r\n        {   //console.log(features,this.addpixelpoly.getActive(),\"yuy\")\r\n            if(false && this.addpixelpoly.getActive()){\r\n              console.log(this.addpixelpoly.getActive());\r\n              var vectorM_sr = this.modifyVector.getSource();\r\n               var featuresM = vectorM_sr.getFeatures();\r\n               var format = new GeoJSON();\r\n                var turfpoly;\r\n                var last = turf.polygon([]);\r\n                if(this.treeRegion!=0){\r\n                  var featureSelected = this.modifyVector.getSource().getFeatureById(this.treeRegion);\r\n                  var feature = features[features.length-1];\r\n                  console.log(feature,\"last\");\r\n                  feature = format.writeFeatureObject(feature);\r\n                  turfpoly = format.writeFeatureObject(featureSelected);\r\n                  turfpoly = turf.multiPolygon(turf.cleanCoords(turfpoly).geometry.coordinates); \r\n                  console.log(feature,turfpoly.geometry.coordinates,turf.buffer(turfpoly,0));\r\n                  turfpoly = turf.union(turfpoly,feature);\r\n                  console.log(\"union\",turfpoly);  \r\n                  \r\n                }\r\n\r\n            }\r\n            if(this.erasePolygon.getActive() == true && features[features.length - 1].getStyle() == null ){ //check if style is already set\r\n                  features[features.length -1].setStyle(this.styleErase);\r\n                  features[features.length -1].set(\"name\",\"erase\");\r\n                  this.featureStack.push(features[features.length -1]);\r\n                  var format = new GeoJSON();\r\n                  var temp = {\"action\":\"Erase\",\"geoJson\":JSON.parse(format.writeFeatures([features[features.length -1]]))}\r\n                  this.saveJson[\"userActions\"].push(temp);   \r\n                  this.lastol_uid = parseInt(features[features.length -1].ol_uid);\r\n                  this.last_size = this.last_size+1;    \r\n            }\r\n            else if(this.addPolygon.getActive() == true && features[features.length - 1].getStyle() == null){//check if style is already set\r\n                  features[features.length -1].setStyle(this.styleAdd);\r\n                  features[features.length -1].set(\"name\",\"add\");\r\n                  this.featureStack.push(features[features.length -1]);\r\n                  var format = new GeoJSON();\r\n                  var temp = {\"action\":\"Add\",\"geoJson\":JSON.parse(format.writeFeatures([features[features.length -1]]))}\r\n                  this.saveJson[\"userActions\"].push(temp);\r\n                  this.lastol_uid = parseInt(features[features.length -1].ol_uid);\r\n                  this.last_size = this.last_size+1;     \r\n            }\r\n        }\r\n        else if(features.length > this.last_size){ // the feature in vector source are not ordered due to last feature added to vector.\r\n            \r\n            var flag = 0;\r\n            for(var i =0;i<features.length;i++){\r\n              if(parseInt(features[i].ol_uid)>this.lastol_uid){//get the feature which caused disorder in vector source\r\n                    bugFeature = features[i];\r\n                    flag = 1;\r\n                    vector_sr.removeFeature(vector_sr.getFeatureByUid(features[i].ol_uid));      \r\n              } \r\n            }\r\n            if(flag == 1){\r\n              if(this.addPolygon.getActive() == true){\r\n                bugFeature.setStyle(this.styleAdd);\r\n                bugFeature.set(\"name\",\"add\");\r\n              }\r\n              else{\r\n                bugFeature.setStyle(this.styleErase);\r\n                bugFeature.set(\"name\",\"erase\");\r\n              }\r\n              vector_sr.addFeature(bugFeature);\r\n              this.featureStack.push(bugFeature);\r\n              var temp = {\"action\":\"Erase\",\"geoJson\":JSON.parse(format.writeFeatures([bugFeature]))}\r\n              this.saveJson[\"userActions\"].push(temp);\r\n              this.last_size = this.last_size+1;\r\n              this.lastol_uid = parseInt(bugFeature.ol_uid);\r\n            }\r\n          \r\n        }\r\n  }\r\n\r\n  resetToDefault = () => {\r\n    const that = this;\r\n    that.invertString = 0;\r\n    that.HueString = 0\r\n    that.SaturationString = 100;\r\n    this.map.on('postcompose', function(e){\r\n      console.log(\"imhere\", this.invertValue);\r\n      document.querySelector('canvas').style.filter=\"\";\r\n    });\r\n  }\r\n\r\n  savePolygonsToDatabase = () => {\r\n    //const coordinates = this.map.getLayers().item(1).getSource().getFeatures()[0].values_.geometry.flatCoordinates;\r\n    //const type = this.map.getLayers().item(1).getSource().getFeatures()[0].getGeometry().getType();\r\n    var writer = new GeoJSON();\r\n    \r\n    /*const data = {\r\n      'string': \"geojsonStr\",\r\n      \"geometry\": {\r\n        \"type\": \"Polygon\",\r\n        \"coordinates\": coordinates,\r\n      },\r\n    };*/\r\n    var outObj_atlas; \r\n    console.log(this.category);\r\n    if(this.category==\"Injection\"&&this.lastol_uid!=0){\r\n    \r\n    this.combine();  \r\n    var feature = this.featureStack[0];\r\n    feature.setId(255);\r\n    console.log(feature,this.featureStack);\r\n    var geojsonStr = writer.writeFeatures([feature]);\r\n       outObj_atlas = { \r\n        imagename: this.brainIdPm,\r\n        series_id: \"\" + this.brainID,\r\n        section_id: \"\"+ this.secNo,\r\n        section: \"\" + this.secNo,\r\n        category: \"injreg\",\r\n        tracername:\"R\",\r\n        injection: undefined\r\n      };\r\n      outObj_atlas.injection = geojsonStr;\r\n      //http://3.235.171.52/webtools/webtools/seriesbrowser/deleteatlas_status_wp/?brain_id=2495&section=90\r\n      var apifunName = 'saveinjection_status_wp/';\r\n      console.log(\"save works\", geojsonStr, outObj_atlas);\r\n      console.log(\"series\",this.PMDID.slice(3,8),this.brainID,this.secNo,outObj_atlas);\r\n    }\r\n    else if(this.category==\"Atlas\"){\r\n       outObj_atlas = { \r\n      imagename: parseInt(this.PMDID.slice(3,8)),\r\n      series_id: \"\" + this.brainID,\r\n      section_id: \"\"+ this.secNo,\r\n      section: \"\" + this.secNo,\r\n      category: \"atlas\",\r\n      atlas: undefined\r\n    };\r\n    var feature = this.modifyVector.getSource().getFeatures();\r\n    var geojsonStr = writer.writeFeatures(feature);\r\n    outObj_atlas.atlas = JSON.stringify(geojsonStr);//JSON.stringify(geojsonStr);\r\n    console.log(feature,\"features\");\r\n    //http://3.235.171.52/webtools/webtools/seriesbrowser/deleteatlas_status_wp/?brain_id=2495&section=90\r\n    var apifunName = 'saveatlas_status_wp/';\r\n    console.log(\"save works\", geojsonStr, outObj_atlas);\r\n    console.log(\"series\",this.PMDID.slice(3,8),this.brainID,this.secNo);\r\n    }\r\n    var saveurl = \"http://3.235.171.52/webtools/webtools/seriesbrowser/\";\r\n    $.ajax({\r\n\t\t\turl: saveurl+apifunName,\r\n\t\t\tdataType: 'json',\r\n      async: false,\r\n      data: {'msg':JSON.stringify(outObj_atlas)},\r\n      method : \"POST\",\r\n\t\t\tsuccess: function(response) {\r\n          try{\r\n            //response = JSON.parse(response);\r\n            if(response.status == 0){\r\n              // resp = response.data;\r\n              // dmsg = \"Saved action : \" + resp.state;\r\n              var dmsg = \"Success saving atlas\";\r\n              console.log(dmsg,response);\r\n              //displayMessage(dmsg,true);\r\n              //closeMessage(true);\r\n              //app.atlas_loaded = false;\r\n              //refreshOL();\r\n            }\r\n            else{\r\n              //failMessage('Saving failed : ' + response.error);\r\n              console.log(\"error in saving\",response.error);\r\n    \r\n              return;\r\n            }\r\n          }\r\n          catch(exc){\r\n            //failMessage('Exception : ' + exc.message);\r\n            console.log('Exception in save : ' + exc.message);\r\n            console.log(dmsg,response);\r\n            return;\r\n          }\r\n      },\r\n\t\t\tfail: function(xhr,status,error){\r\n\t\t\t\t//failMessage('Saving failed : ' + error);\r\n\t\t\t}\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n    /*$(function () {\r\n      // 6 create an instance when the DOM is ready\r\n      function nodeExpand(node){\r\n        if (node.children.length === 0)\r\n          return {text:node.name,...node};\r\n        else \r\n          for(var i=0;i<node.children.length;i++){\r\n            node.children[i] = nodeExpand(node.children[i]);\r\n          }\r\n          return {text:node.name,...node};\r\n      }\r\n      $(\".search-input\").keyup(function () {\r\n        var searchString = $(this).val();\r\n        $('#atlas_info').jstree('search', searchString);\r\n      });\r\n    \r\n      $.getJSON('https://raw.githubusercontent.com/Sai-Adarsh/viewer-geojson/main/h.json',function(jsonresponse) {\r\n        var dataNode=nodeExpand(jsonresponse.msg[0]);\r\n        $('#atlas_info')\r\n        .on(\"changed.jstree\", function (e, data) {\r\n          if(data.selected.length) {\r\n            //alert('The selected node is: ' + data.instance.get_node(data.selected[0]).text);\r\n            //console.log(data.selected);\r\n\r\n            console.log('The selected node is: ' + data.selected[0]);//data.instance.get_node(data.selected[0]).text);\r\n            // if(data.selected.length == 1)\r\n            //   drawAtlasRegion(data.selected);\r\n            // else{\r\n            //   failMessage('<h5>Please select only one</h5>');\r\n            //   return;\r\n            // }\r\n          }\r\n        })\r\n        .jstree({ \r\n          \"plugins\" : [\"search\"],\r\n          'core' : {\r\n            'themes': {\r\n              'name': 'proton',\r\n              'responsive': true,\r\n              'icons': false,\r\n              'variant': 'large',\r\n              'dots': true,\r\n            },\r\n            'multiple': false,\r\n            // 'check_callback': true,\r\n            'data' :function(node,cb){\r\n                  if(node.id === '#'){\r\n                    cb({...dataNode},dataNode.children);\r\n                    }\r\n                }\r\n          },\r\n          \"search\": {\r\n            \"case_insensitive\": true,\r\n            \"show_only_matches\" : true\r\n          }});\r\n      })\r\n    });*/\r\n    //const db = firebase.database().ref().child(\"vector\").push(geojsonStr);\r\n  }\r\n\r\n  retrievePolygonsFromDatabase = () => {\r\n    console.log(\"works here\");\r\n    var reader = new GeoJSON();\r\n    /*firebase.database().ref('vector').once('value', snapshot => {\r\n      var items = [];\r\n      snapshot.forEach((child) => {\r\n        items.push(child.val());\r\n      });\r\n      this.loadedFeature = items[items.length - 1];\r\n    }).then( () => {\r\n      this.loadPolygonsFromFirebase()\r\n    });*/\r\n    var flag = 0;\r\n    var saveurl = \"http://3.235.171.52/webtools/webtools/seriesbrowser/\";\r\n    var source = this.vector.getSource();\r\n    if(this.category==\"Injection\"){\r\n      saveurl  = saveurl + 'getinjectionregion_status_wp/PMD'+ this.brainIdPm + '/' +this.secNo + '/' + \"R/\"\r\n      flag = 1\r\n    }\r\n\r\n    $.getJSON(saveurl,function(jsonresponse){\r\n      console.log(jsonresponse);\r\n      try{\r\n        console.log(this.category);\r\n        if(flag){\r\n          var features=jsonresponse.data.features[0];\r\n          console.log(features,jsonresponse);\r\n          features = reader.readFeatures(features);\r\n          console.log(features);\r\n          features[0].setStyle(this.styleAdd);\r\n          source.addFeature(features[0]);\r\n          console.log(source.getFeatures());\r\n          this.featureStack =[features[0]];\r\n          this.vector.setSource(source);\r\n          \r\n        }\r\n      }\r\n      catch(exec){\r\n        console.log(\"Error in Loading Injection region data \",exec.stack);\r\n      }\r\n    });\r\n    \r\n\r\n  }\r\n\r\n  loadPolygonsFromFirebase = () => {\r\n    console.log(this.loadedFeature);\r\n    var reader = new GeoJSON();\r\n    const newGeoJson = reader.readFeatures(this.loadedFeature);\r\n    console.log(\"works here\", newGeoJson);\r\n    var i;\r\n    for (i = 0; i < newGeoJson.length; i++) {\r\n      this.vector.getSource().addFeature(newGeoJson[i]);\r\n    }\r\n    //this.vector.getSource().addFeature(newGeoJson[0]);\r\n  }\r\n\r\n\r\n  onInvertChange = (event) => {\r\n\r\n    const that = this;\r\n    that.invertString = event.value;\r\n    console.log(that.invertString);\r\n    this.map.on('postcompose', function(e){\r\n      this.invertValue = \"invert(\" + that.invertString + \"%) \" + \"hue-rotate(\" + that.HueString + \"deg) \" + \"saturate(\" + that.SaturationString + \"%)\";\r\n      console.log(\"imhere\", this.invertValue);\r\n      document.querySelector('canvas').style.filter=this.invertValue;\r\n    });\r\n  };\r\n\r\n  onHueChange = (event) => {\r\n    const that = this;\r\n    that.HueString = event.value;\r\n    this.map.on('postcompose',function(e){\r\n      this.invertValue = \"invert(\" + that.invertString + \"%) \" + \"hue-rotate(\" + that.HueString + \"deg) \" + \"saturate(\" + that.SaturationString + \"%)\";\r\n      console.log(\"imhere\", this.invertValue);\r\n      document.querySelector('canvas').style.filter=this.invertValue;\r\n    });\r\n  };\r\n\r\n  onSaturationChange = (event) => {\r\n    const that = this;\r\n    that.SaturationString = event.value;\r\n    this.map.on('postcompose',function(e){\r\n      this.invertValue = \"invert(\" + that.invertString + \"%) \" + \"hue-rotate(\" + that.HueString + \"deg) \" + \"saturate(\" + that.SaturationString + \"%)\";\r\n      console.log(\"imhere\", this.invertValue);\r\n      document.querySelector('canvas').style.filter=this.invertValue;\r\n    });\r\n  };\r\n\r\n  onClick(event) {\r\n    this.modifyVector.getSource().clear();\r\n    if (event=='show') {\r\n      this.lastChecked = true;\r\n      this.httpClient.get('http://3.235.171.52/webtools/webtools/seriesbrowser/getatlasgeojson_status_wp/' + this.PMDID + '/00' + this.defaultGeoJSONSecNo + '/').subscribe(res=>{\r\n        var atlasstyle = new Style({\r\n          fill: new Fill({\r\n              color: 'rgba(255, 255, 255, 0)'\r\n          }),\r\n          stroke: new Stroke({\r\n              color: 'white', //'#2F7B63',\r\n              width: 0.5\r\n            }),\r\n              text: new Text({\r\n                  font: '12px Calibri,sans-serif',\r\n                  fill: new Fill({\r\n                      color: 'white'\r\n                  }),\r\n                  stroke: new Stroke({\r\n                      color: 'white',\r\n                      width: 0.5\r\n                  })\r\n              })\r\n        });\r\n        console.log(this.defaultGeoJSONSecNo);\r\n        console.log(\"res\",res);\r\n        //console.log(JSON.parse(res[\"data\"]))\r\n        res = res[\"data\"];\r\n        var reader = new GeoJSON();\r\n        var data = res;\r\n        const newGeoJson = reader.readFeatures(res);\r\n        var i;\r\n        console.log(\"new\",newGeoJson)\r\n        for (i = 0; i < newGeoJson.length; i++) {\r\n          newGeoJson[i].setStyle(atlasstyle);\r\n          this.modifyVector.getSource().addFeature(newGeoJson[i]);\r\n          this.lastAtlasSize+=this.lastAtlasSize;\r\n        }\r\n      });\r\n      this.modifyVector.setVisible(true);\r\n      \r\n    }\r\n    else {\r\n      this.lastChecked = false;\r\n      this.modifyVector.setVisible(false);\r\n    }\r\n  }\r\n\r\n  displayFeatures() {\r\n    var defaultStyle = new Style({\r\n      fill: new Fill({\r\n        color: 'transparent'\r\n      }),\r\n      stroke: new Stroke({\r\n        color: '#000', //'#2F7B63',\r\n        width: 2\r\n      }),\r\n      text: new Text({\r\n          font: '12px Calibri,sans-serif',\r\n          fill: new Fill({\r\n              color: '#000'\r\n          }),\r\n          stroke: new Stroke({\r\n              color: '#fff',\r\n              width: 3\r\n          })\r\n      })\r\n    });\r\n\r\n    if (this.lastRegionID != -1) {\r\n      this.modifyVector.getSource().getFeatureById(this.lastRegionID).setStyle(defaultStyle);\r\n    }\r\n\r\n    var atlasstyle = new Style({\r\n      fill: new Fill({\r\n          color: 'rgba(255, 255, 255, 0.4)'\r\n      }),\r\n      stroke: new Stroke({\r\n          color: '#2F7B63', //'#2F7B63',\r\n          width: 3\r\n        }),\r\n          text: new Text({\r\n              font: '12px Calibri,sans-serif',\r\n              fill: new Fill({\r\n                  color: 'white'\r\n              }),\r\n              stroke: new Stroke({\r\n                  color: 'white',\r\n                  width: 0.5\r\n              })\r\n          })\r\n    });\r\n    console.log(this.modifyVector);\r\n    this.modifyVector.getSource().getFeatureById(this.treeRegion).setStyle(atlasstyle);\r\n    //this.modifyVector.getSource().addFeature(newGeoJson[newGeoJson.length - 1]);\r\n    //this.modifyVector.getSource().getFeatureById(this.treeRegion).setStyle(atlasstyle);\r\n    //newGeoJson[newGeoJson.length - 1].setStyle(atlasstyle);\r\n    this.lastRegionID = this.treeRegion;\r\n    console.log(this.treeRegion, this.individualRegion);\r\n  }\r\n\r\n  addPolygons(){\r\n    this.draw.setActive(false);\r\n    this.erasePolygon.setActive(false);\r\n    this.addPolygon.setActive(true);\r\n    this.addpixelpoly.setActive(false);\r\n    this.map.addInteraction(this.addPolygon);\r\n    \r\n  }\r\n\r\n  erasePolygons(){\r\n    this.draw.setActive(false);\r\n    this.addPolygon.setActive(false);\r\n    this.erasePolygon.setActive(true);\r\n    this.addpixelpoly.setActive(false);\r\n    this.map.addInteraction(this.erasePolygon);  \r\n  }\r\n\r\n  addpixelpolyfun(){\r\n    this.draw.setActive(false);\r\n    this.addPolygon.setActive(false);\r\n    this.erasePolygon.setActive(false);\r\n    this.addpixelpoly.setActive(true);\r\n    this.map.addInteraction(this.addpixelpoly);  \r\n  }\r\n\r\n  combine(){\r\n    var vector_sr = this.vector.getSource();\r\n    var features = this.featureStack;\r\n    var format = new GeoJSON();\r\n    var turfpoly;\r\n    var polygon;\r\n    var count = 0;\r\n    var sty = new Style({\r\n      fill: new Fill({\r\n        color: 'rgba(0,255,255, 0.1)',\r\n      }),\r\n      stroke: new Stroke({\r\n        color: '\t#00FFFF',\r\n        width: 3,\r\n      })\r\n    });\r\n\r\n    var last = turf.polygon([]);\r\n    \r\n    for(var i = 0;i<features.length;i++){\r\n      \r\n        turfpoly = format.writeFeatureObject(features[i]);\r\n        if(count>0){\r\n            if(features[i].get('name')==\"add\"){\r\n              var uid = features[i].ol_uid;\r\n              console.log(uid,\"uid\");\r\n              console.log(vector_sr.getFeatures(),\"feas\",polygon);\r\n              vector_sr.removeFeature(vector_sr.getFeatureByUid(uid));\r\n              \r\n              //console.log(isIntersected,\" check\");\r\n              polygon = turf.union(polygon,turfpoly);\r\n              console.log(polygon,\"p\");\r\n            }\r\n            else if(count>0 && features[i].get('name')==\"erase\"){\r\n              var uid = features[i].ol_uid;\r\n              vector_sr.removeFeature(vector_sr.getFeatureByUid(uid));\r\n              last = polygon;\r\n              polygon = turf.difference(polygon,turfpoly);\r\n              if(polygon==null){\r\n                //console.log(turf.getCoords(polygon)[0],\"points\");\r\n                //var points = turf.points(turf.getCoords(polygon)[0]);\r\n                //var len = points.features.length;\r\n                //if(false && turf.pointsWithinPolygon(points,turfpoly).features.length==len){\r\n                //  polygon = turf.difference(polygon,turfpoly);\r\n                //}\r\n                //else{\r\n                  //polygon = turf.difference(turf.toWgs84(polygon),turf.toWgs84(turfpoly));//\r\n                  var poly1 = turf.getCoords(last);\r\n                  var poly2 = turf.getCoords(turfpoly);\r\n                  var polyDiff;\r\n                  polyDiff = polygonClipping.difference(poly1, poly2);\r\n                  polyDiff = turf.multiPolygon(polyDiff);\r\n                  polygon = polyDiff;\r\n                //} \r\n              }\r\n            }\r\n        }\r\n        else{ \r\n          var uid = features[i].ol_uid;\r\n          vector_sr.removeFeature(vector_sr.getFeatureByUid(uid));\r\n          polygon = format.writeFeatureObject(features[i]);\r\n          console.log(polygon,\"p\");\r\n          count = count+1;\r\n        }\r\n    }\r\n    if(count>0 && polygon!=null){  \r\n        polygon = format.readFeatures(polygon)[0];\r\n        polygon.setStyle(sty);\r\n        this.lastol_uid = parseInt(polygon.ol_uid);\r\n        this.last_size = 1;\r\n        this.featureStack = [polygon];\r\n        console.log(this.featureStack);\r\n        vector_sr.addFeature(polygon);\r\n    }\r\n    //console.log(vector_sr.getFeatures());\r\n    this.vector.setSource(vector_sr);\r\n    this.saveJson[\"outputCombine\"] = JSON.parse(format.writeFeatures(features));\r\n  }\r\n\r\n  addInteraction(interactionType) {\r\n    this.draw.setActive(true);\r\n    this.addPolygon.setActive(false);\r\n    this.erasePolygon.setActive(false);\r\n    this.addpixelpoly.setActive(false);\r\n    this.draw = new Draw({\r\n      source: this.vector.getSource(),\r\n      type: interactionType,\r\n      freehand: true,\r\n    });\r\n    if(interactionType == \"Polygon\"){\r\n      this.draw = this.draw;\r\n      this.draw.set(\"name\",\"addpixel\")\r\n    }\r\n    this.map.addInteraction(this.draw);\r\n    \r\n  }\r\n\r\n  \r\n  removeInteraction(){\r\n    this.draw.setActive(false);\r\n    this.addPolygon.setActive(false);\r\n    this.erasePolygon.setActive(false);\r\n    this.map.removeInteraction(this.draw);\r\n    this.addpixelpoly.setActive(false);\r\n  }\r\n\r\n  deleteDrawing() {\r\n    try {\r\n      this.toBeDeleted = this.vector.getSource().getFeatures()[this.vector.getSource().getFeatures().length - 1];\r\n      this.vector.getSource().removeFeature(this.toBeDeleted);\r\n      this.redoStack.push(this.toBeDeleted);\r\n    console.log(this.redoStack);\r\n    } catch (error) {\r\n      console.log(\"No more undos\");\r\n    }\r\n    \r\n  }\r\n\r\n  redoDrawing() {\r\n    try {\r\n      this.toBeRedrawn = this.redoStack[this.redoStack.length - 1]\r\n      this.vector.getSource().addFeature(this.toBeRedrawn);\r\n      this.redoStack.pop();\r\n    } catch (error) {\r\n      console.log(\"No more redos\");\r\n    }\r\n    \r\n  }\r\n\r\n  getBrainIDUpdated(event) {\r\n    this.brainID = parseInt(event.target.value);  \r\n    this.brainIdPm = parseInt(event.target.value);  \r\n    console.log(\"brainid\", this.brainID);\r\n  }\r\n\r\n  emailUpdated(event) {\r\n    this.secNo = parseInt(event.target.value);\r\n    this.defaultGeoJSONSecNo = parseInt(event.target.value);\r\n    \r\n    console.log(\"section\", this.secNo);\r\n  }\r\n\r\n  brainIDUpdated() {\r\n    this.progress=10;\r\n\r\n    this.modifyVector.setVisible(false);\r\n    console.log(this.brainID, this.secNo);\r\n    var series_id = 0;\r\n    this.httpClient.get('http://mitradevel.cshl.org/webtools/seriesbrowser/getseriesid_status_wp/' + this.brainIdPm + '/').subscribe(res=>{\r\n      console.log(res);\r\n      this.brainID = res[\"data\"][\"F\"];\r\n    });\r\n    this.httpClient.get('http://mitradevel.cshl.org/webtools/seriesbrowser/getthumbnails/' + this.brainID + '/').subscribe(res=>{\r\n      this.urlData = res;\r\n      console.log(\"here\", res);\r\n      this.PMDID = this.urlData.F[this.secNo][1].split('/brainimg')[1].slice(1, 8);\r\n      var newURL = \"http://braincircuits.org/cgi-bin/iipsrv.fcgi?FIF=\" + this.urlData.F[this.secNo][1].split('/brainimg')[1].replace(\"&\",\"%26\").replace(\"jpg\",\"jp2\") + \"&GAM=1&MINMAX=1:0,255&MINMAX=2:0,255&MINMAX=3:0,255&JTL={z},{tileIndex}\";\r\n      this.zoomifySource = new Zoomify({\r\n        url: newURL,\r\n        size: [24000, 18000],\r\n        crossOrigin: 'anonymous',\r\n        zDirection: -1, // Ensure we get a tile with the screen resolution or higher\r\n      });\r\n      this.defaultURL = newURL;\r\n      this.imagery.setSource(this.zoomifySource);\r\n      this.progress=100;\r\n      console.log(this.defaultURL);\r\n      if (this.selectedValue == 'nissl') {\r\n        var event = {\r\n          checked: true,\r\n        };\r\n        this.onToggleTracer(event);\r\n      }\r\n      else {\r\n        var event = {\r\n          checked: false,\r\n        };\r\n        this.onToggleTracer(event);\r\n\r\n      }\r\n      \r\n    });\r\n    this.progress=100;\r\n    console.log(this.lastChecked, this.defaultGeoJSONSecNo);\r\n    if (this.lastChecked == true) {\r\n      var newUrl = \"http://3.235.171.52//webtools/webtools/seriesbrowser/getatlasgeojson_status_wp/\";\r\n      //'http://mitradevel.cshl.org/webtools/seriesbrowser/getatlasgeojson/'\r\n      this.httpClient.get(newUrl+ this.PMDID + '/00' + this.defaultGeoJSONSecNo + '/').subscribe(res=>{\r\n        var atlasstyle = new Style({\r\n          fill: new Fill({\r\n              color: 'rgba(255, 255, 255, 0)'\r\n          }),\r\n          stroke: new Stroke({\r\n              color: 'white', //'#2F7B63',\r\n              width: 0.5\r\n            }),\r\n              text: new Text({\r\n                  font: '12px Calibri,sans-serif',\r\n                  fill: new Fill({\r\n                      color: 'white'\r\n                  }),\r\n                  stroke: new Stroke({\r\n                      color: 'white',\r\n                      width: 0.5\r\n                  })\r\n              })\r\n        });\r\n        console.log(\"check geojson\", this.defaultGeoJSONSecNo, res);\r\n        res = JSON.stringify(res);\r\n        var reader = new GeoJSON();\r\n        const newGeoJson = reader.readFeatures(res);\r\n        this.modifyVector.getSource().clear();\r\n        var i;\r\n        this.lastAtlasSize = 0;\r\n        for (i = 0; i < newGeoJson.length; i++) {\r\n          newGeoJson[i].setStyle(atlasstyle);\r\n          this.modifyVector.getSource().addFeature(newGeoJson[i]);\r\n          this.lastAtlasSize+=1;\r\n        }\r\n      });\r\n      this.modifyVector.setVisible(true);\r\n    }\r\n    console.log(\"progres\",this.progress);\r\n    if(this.progress==100){\r\n    this.progress=0;\r\n      console.log(\"reached 100\");\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  onToggleTracer(event) {\r\n    if (event.checked == true) {\r\n      this.httpClient.get('http://mitradevel.cshl.org/webtools/seriesbrowser/getthumbnails/' + this.brainID + '/').subscribe(res=>{\r\n        this.urlData = res;\r\n        console.log(res);\r\n        var toggleSecNo;\r\n        if (this.secNo - 4 < 0) {\r\n          toggleSecNo = 0;\r\n        }\r\n        else {\r\n          toggleSecNo = this.secNo - 4;\r\n        }\r\n        var newURL = \"http://braincircuits.org/cgi-bin/iipsrv.fcgi?FIF=\" + this.urlData.N[toggleSecNo][1].split('/brainimg')[1].replace(\"&\",\"%26\").replace(\"jpg\",\"jp2\") + \"&GAM=1&MINMAX=1:0,255&MINMAX=2:0,255&MINMAX=3:0,255&JTL={z},{tileIndex}\";\r\n        this.zoomifySource = new Zoomify({\r\n          url: newURL,\r\n          size: [24000, 24000],\r\n          crossOrigin: 'anonymous',\r\n          zDirection: -1, // Ensure we get a tile with the screen resolution or higher\r\n        });\r\n        this.defaultURL = newURL;\r\n        this.imagery.setSource(this.zoomifySource);\r\n        console.log(this.defaultURL);\r\n      });\r\n      console.log(this.defaultURL, this.urlData);\r\n    }\r\n    else {\r\n      this.httpClient.get('http://mitradevel.cshl.org/webtools/seriesbrowser/getthumbnails/' + this.brainID + '/').subscribe(res=>{\r\n        this.urlData = res;\r\n        console.log(res);\r\n        var newURL = \"http://braincircuits.org/cgi-bin/iipsrv.fcgi?FIF=\" + this.urlData.F[this.secNo][1].split('/brainimg')[1].replace(\"&\",\"%26\").replace(\"jpg\",\"jp2\") + \"&GAM=1&MINMAX=1:0,255&MINMAX=2:0,255&MINMAX=3:0,255&JTL={z},{tileIndex}\";\r\n        this.zoomifySource = new Zoomify({\r\n          url: newURL,\r\n          size: [24000, 24000],\r\n          crossOrigin: 'anonymous',\r\n          zDirection: -1, // Ensure we get a tile with the screen resolution or higher\r\n        });\r\n        this.defaultURL = newURL;\r\n        this.imagery.setSource(this.zoomifySource);\r\n        console.log(this.defaultURL);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  REPL() {\r\n    if (this.myControl.value == \"turnOnGEOJson\") {\r\n      const event = {\r\n        checked: true,\r\n      };\r\n      this.lastChecked = true;\r\n      this.onClick(event);\r\n    };\r\n    if (this.myControl.value == \"turnOffGEOJson\") {\r\n      this.lastChecked = false;\r\n      this.modifyVector.setVisible(false);\r\n    };\r\n    if (this.myControl.value == \"savePolygons\") {\r\n      this.savePolygonsToDatabase();\r\n    };\r\n    if (this.myControl.value == \"retrievePolygons\") {\r\n      this.retrievePolygonsFromDatabase();\r\n    };\r\n    if (this.myControl.value == \"loadPolygons\") {\r\n      this.loadPolygonsFromFirebase();\r\n    }  \r\n  }\r\n\r\n  Tree(event) {\r\n    this.httpClient.get('https://raw.githubusercontent.com/Sai-Adarsh/viewer-geojson/main/h.json').subscribe(res=>{\r\n        console.log(\"here\", res);\r\n        this.treeString = [];\r\n        this.treeString.push(res);\r\n    });\r\n  \r\n  }\r\n\r\n  PrintTree() {\r\n    console.log(\"Print Tree\", typeof this.treeString[0][\"msg\"], this.treeString[0][\"msg\"]);\r\n  }\r\n\r\n  handleFileLoad(event){\r\n    var vector_sr = this.vector.getSource();\r\n    var features = vector_sr.getFeatures();\r\n    \r\n    var content = JSON.parse(event.target.result);\r\n    var format = new GeoJSON();\r\n    if(content[\"outputCombine\"][\"type\"]!= undefined || content[\"outputCombine\"].length!=undefined ){\r\n        var featuresToLoad = format.readFeatures(content[\"outputCombine\"]);\r\n        console.log(featuresToLoad);\r\n        for(var i=0;i<featuresToLoad.length;i++){\r\n            if(featuresToLoad[i].get(\"name\")==\"add\"){\r\n                featuresToLoad[i].setStyle(this.styleAdd);\r\n            }\r\n            else if(featuresToLoad[i].get(\"name\")==\"erase\"){\r\n                featuresToLoad[i].setStyle(this.styleErase);\r\n            }\r\n            vector_sr.addFeature(featuresToLoad[i]);\r\n        }\r\n      this.saveJson[\"firstpassAtlas\"] =  content[\"outputCombine\"]; \r\n    }\r\n  }\r\n\r\n  importFile(event) {\r\n    if (event.target.files.length == 0) {\r\n       console.log(\"No file selected!\");\r\n       return\r\n    }\r\n    var file: File = event.target.files[0];\r\n    \r\n    const reader = new FileReader();\r\n    reader.readAsText(event.target.files[0]);\r\n    reader.onload = (event) => {\r\n      var vector_sr = this.vector.getSource();\r\n      var features = vector_sr.getFeatures();\r\n      console.log(\"here\", event.target.result)\r\n      var fileString = event.target.result;\r\n      var content = JSON.parse(JSON.parse(JSON.stringify(fileString)));\r\n      var format = new GeoJSON();\r\n      if(content[\"outputCombine\"][\"type\"]!= undefined || content[\"outputCombine\"].length!=undefined ){\r\n          var featuresToLoad = format.readFeatures(content[\"outputCombine\"]);\r\n          console.log(featuresToLoad);\r\n          for(var i=0;i<featuresToLoad.length;i++){\r\n              if(featuresToLoad[i].get(\"name\")==\"add\"){\r\n                  featuresToLoad[i].setStyle(this.styleAdd);\r\n              }\r\n              else if(featuresToLoad[i].get(\"name\")==\"erase\"){\r\n                  featuresToLoad[i].setStyle(this.styleErase);\r\n              }\r\n              vector_sr.addFeature(featuresToLoad[i]);\r\n          }\r\n        this.saveJson[\"firstpassAtlas\"] =  content[\"outputCombine\"]; \r\n      }\r\n    };\r\n\r\n  \r\n      // after here 'file' can be accessed and used for further process\r\n  }\r\n\r\n  setCheckPoint() {\r\n    this.saveJson[\"userActions\"] = [];\r\n    this.saveJson[\"firstpassAtlas\"] = this.saveJson[\"outputCombine\"]\r\n    this.saveJson[\"outputCombine\"] = {};\r\n  }\r\n\r\n  exportFile(event) {\r\n      console.log(\"Saving File\");\r\n      this.combine();\r\n      var json = this.saveJson;\r\n      const a = document.createElement(\"a\");\r\n      a.href = URL.createObjectURL(new Blob([JSON.stringify(json, null, 2)], {\r\n        type: \"text/plain\"\r\n      }));\r\n      a.setAttribute(\"download\", \"feature.json\");\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      this.setCheckPoint();  \r\n  }\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReplserviceService } from './replservice.service';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    MatProgressBarModule,\r\n    BrowserAnimationsModule,\r\n    MatButtonModule,\r\n    MatSidenavModule,\r\n    MatToolbarModule,\r\n    MatIconModule,\r\n    MatCardModule,\r\n    MatTabsModule,\r\n    MatAutocompleteModule,\r\n    MatInputModule,\r\n    MatExpansionModule,\r\n    MatSlideToggleModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatSnackBarModule,\r\n    MatFormFieldModule,\r\n    MatSliderModule,\r\n    HttpClientModule,\r\n    MatTreeModule,\r\n    MatChipsModule,\r\n    MatSelectModule\r\n  ],\r\n  providers: [AppComponent, ReplserviceService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ReplserviceService {\r\n\r\n  constructor() { }\r\n  REPLTest() {\r\n    return \"Hello\";\r\n  }\r\n  \r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}